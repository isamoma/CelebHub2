{% extends "base.html" %}
{% block content %}

<h1 class="text-3xl font-bold text-indigo-600 mb-6">Onboarding Users</h1>

<table class="w-full bg-white shadow rounded-xl overflow-hidden">
    <thead class="bg-gray-100">
        <tr>
            <th class="p-3 text-left">Name</th>
            <th class="p-3 text-left">Email</th>
            <th class="p-3 text-left">Phone</th>
            <th class="p-3 text-left">Message</th>
            <th class="p-3 text-left">Date</th>
        </tr>
    </thead>

    <tbody>
        {% for u in users %}
        <tr class="border-b">
            <td class="p-3">{{ u.name }}</td>
            <td class="p-3">{{ u.email }}</td>
            <td class="p-3">{{ u.phone }}</td>
            <td class="p-3">{{ u.message or "â€”" }}</td>
            <td class="p-3">{{ u.created_at.strftime('%Y-%m-%d') }}</td>
            <td class="p-3">
              {% if users.status == "pending" %}
                  <form action="{{ url_for('admin.approve_onboarding', id=c.id) }}" method="POST" style="display:inline;">
                      <button class="bg-green-600 px-3 py-1 rounded text-white">Approve</button>
                  </form>

                  <form action="{{ url_for('admin.reject_onboarding', id=c.id) }}" method="POST" style="display:inline;">
                      <button class="bg-red-600 px-3 py-1 rounded text-white">Reject</button>
                  </form>
              {% elif users.status == "approved" %}
                  <span class="text-green-600 font-bold">Approved</span>
              {% else %}
                  <span class="text-red-600 font-bold">Rejected</span>
              {% endif %}
          </td>

        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
