{% extends 'base.html' %}
{% block content %}
<h1 class="text-3xl font-bold text-center text-indigo-600 dark:text-indigo-400 mb-6">Admin Dashboard</h1>
<div class="flex gap-6">
  <a href="{{ url_for('admin.add_celeb') }}" class="bg-indigo-600 dark:bg-indigo-700 text-white px-4 py-2 rounded-lg">Add Celebrity</a>
  <a href="{{ url_for('admin.celebrities') }}" class="bg-cyan-600 dark:bg-cyan-700 text-white px-4 py-2 rounded-lg">All Celebrities</a>
  <a href="{{ url_for('admin.submissions') }}" class="bg-cyan-600 dark:bg-cyan-700 text-white px-4 py-2 rounded-lg">Submissions</a>
  <a href="{{ url_for('admin.onboarding_users') }}" class="bg-cyan-600 dark:bg-cyan-700 text-white px-4 py-2 rounded-lg">Onboarding</a>
</div>
</div>

<div class="mt-6 bg-white dark:bg-gray-800 rounded-2xl shadow p-4">
  <table class="w-full table-auto">
    <thead class="text-left text-sm text-gray-500 dark:text-gray-400">
      <tr><th>Name</th><th>Category</th><th>Featured</th><th>Actions</th></tr>
    </thead>
    <tbody class="divide-y dark:divide-gray-700">
      {% for c in celebs %}
      <tr class="align-top dark:text-gray-300">
        <td class="py-3"><a href="{{ url_for('main.profile', slug=c.slug) }}" class="text-indigo-600 dark:text-indigo-400 font-medium">{{ c.name }}</a></td>
        <td>{{ c.category or '' }}</td>
        <td>{{ 'Yes' if c.featured else 'No' }}</td>
        <td class="space-x-2">
          <a href="{{ url_for('admin.edit_celeb', cid=c.id) }}" class="text-sm text-indigo-600 dark:text-indigo-400">Edit</a>
          <meta name="csrf-token" content="{{ csrf_token() }}">
          
          <form action="{{ url_for('admin.delete_celebrity', cid=c.id)}}" method="POST">
            {{form.hidden_tag()}}
            <button type="submit" class="text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300">Delete 
            </button>
          </form>
          


        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
